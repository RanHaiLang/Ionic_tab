<!--
  Generated template for the JiuzhengxingweixiugongdanMessagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <div class="top_div">
    <ion-icon name="ios-arrow-back" (tap)="backPage()"></ion-icon>
    <div class="title_div"><span>普通维修</span></div>
    <ion-icon name="menu" menuToggle></ion-icon>
  </div>
</ion-header>


<ion-content>
  <div class="margin_div" *ngIf="jzxwxDetail.evt_rstatus=='C'||buttons.length==1"></div>
  <form [formGroup]="MessageForm">
    <ion-list-header>
      <i class="iconfont">&#xe601;&nbsp;工单信息</i>
    </ion-list-header>
    <ion-grid>
      <ion-row>
        <ion-col col-auto>单号：</ion-col>
        <ion-col><ion-input readonly="true" formControlName="evt_code"></ion-input></ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-auto><span style="color: red">*</span>工单描述：</ion-col>
        <ion-col>
          <ion-input formControlName="evt_desc" readonly="{{jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'}}"></ion-input>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
      <ion-row (tap)="getShebei()">
        <ion-col col-auto><span style="color: red">*</span>设备：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="obj_desc"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-auto>油站名称：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="des_text"></ion-input>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-auto>状态：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="uco_desc"></ion-input>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
      <ion-row (tap)="getPriority()">
        <ion-col col-auto><span style="color: red">*</span>优先级：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="uco_desc3"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="getClassification()">
        <ion-col col-auto><span style="color: red">*</span>分类：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="cls_desc"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="getPersonInCharge()">
        <ion-col col-auto>负责人：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="per_desc"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="openTime('evt_udfdate03')">
        <ion-col col-auto>工程师到站时间：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfdate03"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="openTime('evt_udfdate04')">
        <ion-col col-auto>维修商到站时间：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfdate04"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="openTime('evt_udfdate02')">
        <ion-col col-auto>维修完成时间：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfdate02"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="getSupplier()">
        <ion-col col-auto>供应商：</ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="com_desc"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-auto>供应商人数：</ion-col>
        <ion-col>
          <ion-input type="number" formControlName="evt_udfnum01" readonly="{{jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'}}"></ion-input>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-auto>维修概述：</ion-col>
        <ion-col>
          <ion-input formControlName="evt_workaddress" readonly="{{jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'}}"></ion-input>
        </ion-col>
        <ion-col col-1></ion-col>
      </ion-row>
      <ion-row (tap)="getCurrency('正确配备相应PPE和工具','udfchar10')">
        <ion-col col-auto>
          <span style="color: red" *ngIf="jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'">*</span>
          正确配备相应PPE和工具：
        </ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfchar10"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="getCurrency('符合HSE的行为','udfchar12')">
        <ion-col col-auto>
          <span style="color: red" *ngIf="jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'">*</span>
          符合HSE的行为：
        </ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfchar12"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="getCurrency('符合相关标准或合同要求','udfchar13')">
        <ion-col col-auto>
          <span style="color: red" *ngIf="jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'">*</span>
          符合相关标准或合同要求：
        </ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfchar13"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
      <ion-row (tap)="getCurrency('服务质量','udfchar17')">
        <ion-col col-auto>
          <span style="color: red" *ngIf="jzxwxDetail.evt_status=='BI05'||jzxwxDetail.evt_status=='CI05'||jzxwxDetail.evt_status=='DI05'">*</span>
          服务质量：
        </ion-col>
        <ion-col>
          <ion-input readonly="true" formControlName="evt_udfchar17"></ion-input>
        </ion-col>
        <ion-col col-1><i class="iconfont">&#xe61e;</i></ion-col>
      </ion-row>
    </ion-grid>
    <ion-list-header>
      <i class="iconfont">&#xe633;&nbsp;附加图片</i>
    </ion-list-header>
    <page-select-pic [(fileObjList)]="filePaths"></page-select-pic>

    <ion-list-header (tap)="BeizhuClick(1)" *ngIf="temp==false">
      <i class="iconfont">&#xe705;&nbsp;审批意见</i>
    </ion-list-header>
    <ion-list-header (tap)="BeizhuClick(2)" *ngIf="temp==true">
      <i class="iconfont">&#xe706;&nbsp;审批意见</i>
    </ion-list-header>
    <ion-grid *ngIf="temp==true">
      <ion-row *ngFor="let x of jzxwxOpinion">
        <ion-col col-7>{{x.add_text}}</ion-col>
        <ion-col col-5>{{x.add_user}}</ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
<ion-footer>
  <div class="footerDiv">
    <button ion-button *ngIf="jzxwxDetail.evt_rstatus!='C'&&buttons.length>1" (tap)="submitMessage()">保存</button>
    <button ion-button (tap)="StatusButton()">流程审批</button>
  </div>
</ion-footer>
